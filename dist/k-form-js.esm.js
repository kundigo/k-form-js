import t from"vue-select";import{Utils as e,Api as n}from"k-utils-js";import{isValid as i,format as r,parse as s,formatISO as a}from"date-fns";import u from"vue-flatpickr-component";import"flatpickr/dist/flatpickr.css";import{isNil as o,isEmpty as p,path as d,assocPath as l,clone as c}from"ramda";import h from"moment";import{format as g,utcToZonedTime as m,zonedTimeToUtc as _}from"date-fns-tz";import v from"vue-monaco";import{VueEditor as f}from"vue2-editor";import V from"vue/dist/vue.esm";import $ from"vuex";function y(t,e,n,i,r,s,a,u,o,p){"boolean"!=typeof a&&(o=u,u=a,a=!1);var d,l="function"==typeof n?n.options:n;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),i&&(l._scopeId=i),s?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,o(t)),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=d):e&&(d=a?function(t){e.call(this,p(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,u(t))}),d)if(l.functional){var c=l.render;l.render=function(t,e){return d.call(e),c(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,d):[d]}return n}var k=y({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.inputGroupClass},[n("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.inputValue}}),t._v(" "),t.prepend?n("div",{staticClass:"input-block__prepend",attrs:{id:t.id+"__prepend"}},[n("span",{domProps:{innerHTML:t._s(t.prepend)}})]):t._e(),t._v(" "),n("vSelect",t._b({class:[t.inputClass,t.prepend?"input--has-prepend":"",t.append?"input--has-append":""],attrs:{id:t.id,label:"display_name",value:"id",name:t.name,reduce:function(t){return t.id},options:t.choicesToJson},on:{"search:focus":function(e){t.inputTouched=!0}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}},"vSelect",this.$attrs,!1)),t._v(" "),t.append?n("div",{staticClass:"input-block__append",attrs:{id:t.id+"__append"}},[n("span",{domProps:{innerHTML:t._s(t.append)}})]):t._e(),t._v(" "),t.displayValidationError?n("span",{staticClass:"invalid-feedback",attrs:{id:t.id+"__error_message"}},[t._v(" "+t._s(t.inputError)+"  ")]):t._e(),t._v(" "),t.displayValidationWarning?n("span",{staticClass:"input-block__warning-feedback",attrs:{id:t.id+"__warning_message"}},[t._v(" "+t._s(t.inputWarning)+"  ")]):t._e()],1)},staticRenderFns:[]},void 0,{inheritAttrs:!1,components:{vSelect:t},props:{append:{type:String},choices:{type:String,require:!0},include_blank:{type:String,require:!0},name:{type:String,require:!0},id:{type:String,require:!0},prepend:{type:String},suggest_value:{type:String,require:!1,default:"false"}},computed:{choicesToJson:function(){return this.$store.getters.getPotentialValues(this.$props.name)||JSON.parse(this.$props.choices)},displayValidationError:function(){return this.inputTouched&&this.inputError},displayValidationWarning:function(){return this.inputTouched&&!this.inputError&&this.inputWarning},suggestValue:function(){return"true"===this.$props.suggest_value},useSuggestedValue:function(){return this.suggestValue&&!this.inputTouched},suggestedValue:function(){return this.$store.getters.getSuggestedValues(this.$props.name)},includeBlank:function(){return"true"===this.$props.include_blank},inputClass:function(){return{"form-control":!0,"custom-autocomplete":!0,"is-invalid":this.inputTouched&&this.inputError}},inputError:function(){return this.inputTouched?this.$store.getters.getError(this.$props.name):null},inputWarning:function(){return this.inputTouched?this.$store.getters.getWarning(this.$props.name):null},inputGroupClass:function(){return{"input-block":!0}},inputTouched:{get:function(){return this.$store.getters.getTouched(this.$props.name)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}},inputValue:{get:function(){return this.$store.getters.getValue(this.$props.name)},set:function(t){console.log(t),this.$store.dispatch("update",{value:t,name:this.$props.name})}}},watch:{suggestedValue:function(t,e){this.useSuggestedValue&&(this.inputValue=t)}},methods:{},mounted:function(){this.$nextTick((function(){}))}},void 0,!1,void 0,!1,void 0,void 0,void 0),b=y({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"checkbox__container"},[n("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.unchecked_value}}),t._v(" "),"checkbox"===this.$attrs.type?n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],ref:"input",staticClass:"checkbox",class:t.inputClass,attrs:{name:t.name,id:t.id,type:"checkbox"},domProps:{value:t.checked_value,checked:Array.isArray(t.inputValue)?t._i(t.inputValue,t.checked_value)>-1:t.inputValue},on:{focus:function(e){t.inputTouched=!0},change:function(e){var n=t.inputValue,i=e.target,r=!!i.checked;if(Array.isArray(n)){var s=t.checked_value,a=t._i(n,s);i.checked?a<0&&(t.inputValue=n.concat([s])):a>-1&&(t.inputValue=n.slice(0,a).concat(n.slice(a+1)))}else t.inputValue=r}}},"input",this.$attrs,!1)):"radio"===this.$attrs.type?n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],ref:"input",staticClass:"checkbox",class:t.inputClass,attrs:{name:t.name,id:t.id,type:"radio"},domProps:{value:t.checked_value,checked:t._q(t.inputValue,t.checked_value)},on:{focus:function(e){t.inputTouched=!0},change:function(e){t.inputValue=t.checked_value}}},"input",this.$attrs,!1)):n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],ref:"input",staticClass:"checkbox",class:t.inputClass,attrs:{name:t.name,id:t.id,type:this.$attrs.type},domProps:{value:t.checked_value,value:t.inputValue},on:{focus:function(e){t.inputTouched=!0},input:function(e){e.target.composing||(t.inputValue=e.target.value)}}},"input",this.$attrs,!1)),t._v(" "),n("span",{staticClass:"checkbox__custom"}),t._v("\n   \n  "),t.displayValidationError?n("div",{staticClass:"input-block__error-feedback",attrs:{id:t.id+"__error_message"}},[t._v(" "+t._s(t.inputError)+"  ")]):t._e(),t._v(" "),t.displayValidationWarning?n("div",{staticClass:"input-block__warning-feedback",attrs:{id:t.id+"__warning_message"}},[t._v(" "+t._s(t.inputWarning)+"  ")]):t._e()])},staticRenderFns:[]},void 0,{inheritAttrs:!1,props:{checked_value:{type:String,required:!0},unchecked_value:{type:String,required:!0},name:{type:String,require:!0},id:{type:String,require:!0},suggest_value:{type:String,require:!1,default:"false"}},computed:{displayValidationError:function(){return this.inputTouched&&this.inputError},displayValidationWarning:function(){return this.inputTouched&&!this.inputError&&this.inputWarning},suggestValue:function(){return"true"===this.$props.suggest_value},useSuggestedValue:function(){return this.suggestValue&&!this.inputTouched},suggestedValue:function(){return this.$store.getters.getSuggestedValues(this.$props.name)},inputClass:function(){return{"input-block__field--invalid":this.displayValidationError}},inputError:function(){var t=this.$store.getters.getError(this.$props.name);return this.inputTouched?e.isBlank(t)?null:t:null},inputWarning:function(){return this.inputTouched?this.$store.getters.getWarning(this.$props.name):null},inputTouched:{get:function(){return this.$store.getters.getTouched(this.$props.name)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}},inputValue:{get:function(){var t=this.$store.getters.getValue(this.$props.name);return!0===t||t===this.$props.name},set:function(t){this.$store.dispatch("update",{value:t,name:this.$props.name})}}},watch:{suggestedValue:function(t,e){this.useSuggestedValue&&(this.inputValue=t)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),T=y({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.inputGroupClass},[t.prepend?n("div",{staticClass:"input-block__prepend",attrs:{id:t.id+"__prepend"}},[n("span",{domProps:{innerHTML:t._s(t.prepend)}})]):t._e(),t._v(" "),n("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.inputValue}}),t._v(" "),n("flat-pickr",t._b({ref:"input",class:[t.inputClass,t.prepend?"input--has-prepend":"",t.append?"input--has-append":""],attrs:{id:t.id,config:t.config},on:{"on-open":t.onFocusDatePicker},model:{value:t.inputFormattedValue,callback:function(e){t.inputFormattedValue=e},expression:"inputFormattedValue"}},"flat-pickr",this.$attrs,!1)),t._v(" "),t.append?n("div",{staticClass:"input-block__append",attrs:{id:t.id+"__append"}},[n("span",{domProps:{innerHTML:t._s(t.append)}})]):t._e(),t._v(" "),t.displayValidationError?n("span",{staticClass:"input-block__error-feedback",attrs:{id:t.id+"__error_message"}},[t._v("\n    "+t._s(t.inputError)+"\n  ")]):t._e(),t._v(" "),t.displayValidationWarning?n("span",{staticClass:"input-block__warning-feedback",attrs:{id:t.id+"__warning_message"}},[t._v("\n    "+t._s(t.inputWarning)+"\n  ")]):t._e()],1)},staticRenderFns:[]},void 0,{data:function(){return{config:{dateFormat:"d/m/Y",allowInput:!0}}},components:{flatPickr:u},inheritAttrs:!1,props:{append:{type:String},name:{type:String,require:!0},id:{type:String,require:!0},prepend:{type:String},suggest_value:{type:String,require:!1,default:"false"}},computed:{displayValidationError:function(){return this.inputTouched&&this.inputError},displayValidationWarning:function(){return this.inputTouched&&!this.inputError&&this.inputWarning},suggestValue:function(){return"true"===this.$props.suggest_value},useSuggestedValue:function(){return this.suggestValue&&!this.inputTouched},suggestedValue:function(){return this.$store.getters.getSuggestedValues(this.$props.name)},inputClass:function(){return{"input-block__field":!0,"input-block__field--invalid":this.displayValidationError,datepicker:!0}},inputError:function(){return this.inputTouched?this.$store.getters.getError(this.$props.name):null},inputWarning:function(){return this.inputTouched?this.$store.getters.getWarning(this.$props.name):null},inputGroupClass:function(){return{"input-block":!0}},inputTouched:{get:function(){return this.$store.getters.getTouched(this.$props.name)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}},inputValue:{get:function(){return this.$store.getters.getValue(this.$props.name)},set:function(t){this.$store.dispatch("update",{value:t,name:this.$props.name})}},inputFormattedValue:{get:function(){var t=this.$store.getters.getValue(this.$props.name),e=null==t?"":new Date(t);return i(e)?r(e,"dd/MM/yyyy"):""},set:function(t){if(o(t)||p(t)||t.match(/^[0-9]{2}[/][0-9]{2}[/][0-9]{4}$/)){var e=s(t,"dd/MM/yyyy",new Date);this.$store.dispatch("update",{value:i(e)?r(e,"yyyy-MM-dd"):"",name:this.$props.name})}}}},watch:{suggestedValue:function(t,e){this.useSuggestedValue&&(this.inputValue=t)}},methods:{onFocusDatePicker:function(){this.inputTouched=!0}}},void 0,!1,void 0,!1,void 0,void 0,void 0),S=y({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.inputGroupClass},[t.prepend?n("div",{staticClass:"input-block__prepend",attrs:{id:t.id+"__prepend"}},[n("span",{domProps:{innerHTML:t._s(t.prepend)}})]):t._e(),t._v(" "),n("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.inputValue}}),t._v(" "),"checkbox"===this.$attrs.type?n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputFormattedValue,expression:"inputFormattedValue"}],ref:"input",class:[t.inputClass,t.prepend?"input--has-prepend":"",t.append?"input--has-append":""],attrs:{id:t.id,type:"checkbox"},domProps:{checked:Array.isArray(t.inputFormattedValue)?t._i(t.inputFormattedValue,null)>-1:t.inputFormattedValue},on:{focus:function(e){t.inputTouched=!0},change:function(e){var n=t.inputFormattedValue,i=e.target,r=!!i.checked;if(Array.isArray(n)){var s=t._i(n,null);i.checked?s<0&&(t.inputFormattedValue=n.concat([null])):s>-1&&(t.inputFormattedValue=n.slice(0,s).concat(n.slice(s+1)))}else t.inputFormattedValue=r}}},"input",this.$attrs,!1)):"radio"===this.$attrs.type?n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputFormattedValue,expression:"inputFormattedValue"}],ref:"input",class:[t.inputClass,t.prepend?"input--has-prepend":"",t.append?"input--has-append":""],attrs:{id:t.id,type:"radio"},domProps:{checked:t._q(t.inputFormattedValue,null)},on:{focus:function(e){t.inputTouched=!0},change:function(e){t.inputFormattedValue=null}}},"input",this.$attrs,!1)):n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputFormattedValue,expression:"inputFormattedValue"}],ref:"input",class:[t.inputClass,t.prepend?"input--has-prepend":"",t.append?"input--has-append":""],attrs:{id:t.id,type:this.$attrs.type},domProps:{value:t.inputFormattedValue},on:{focus:function(e){t.inputTouched=!0},input:function(e){e.target.composing||(t.inputFormattedValue=e.target.value)}}},"input",this.$attrs,!1)),t._v(" "),t.append?n("div",{staticClass:"input-block__append",attrs:{id:t.id+"__append"}},[n("span",{domProps:{innerHTML:t._s(t.append)}})]):t._e(),t._v(" "),t.displayValidationError?n("span",{staticClass:"input-block__error-feedback",attrs:{id:t.id+"__error_message"}},[t._v(" "+t._s(t.inputError)+"  ")]):t._e(),t._v(" "),t.displayValidationWarning?n("span",{staticClass:"input-block__warning-feedback",attrs:{id:t.id+"__warning_message"}},[t._v(" "+t._s(t.inputWarning)+"  ")]):t._e()])},staticRenderFns:[]},void 0,{inheritAttrs:!1,props:{append:{type:String},name:{type:String,require:!0},id:{type:String,require:!0},prepend:{type:String},suggest_value:{type:String,require:!1,default:"false"}},computed:{displayValidationError:function(){return this.inputTouched&&this.inputError},displayValidationWarning:function(){return this.inputTouched&&!this.inputError&&this.inputWarning},suggestValue:function(){return"true"===this.$props.suggest_value},useSuggestedValue:function(){return this.suggestValue&&!this.inputTouched},suggestedValue:function(){return this.$store.getters.getSuggestedValues(this.$props.name)},inputClass:function(){return{"input-block__field":!0,"input-block__field--invalid":this.displayValidationError,datetimepicker:!0}},inputError:function(){return this.inputTouched?this.$store.getters.getError(this.$props.name):null},inputWarning:function(){return this.inputTouched?this.$store.getters.getWarning(this.$props.name):null},inputGroupClass:function(){return{"input-block":!0}},inputTouched:{get:function(){return this.$store.getters.getTouched(this.$props.name)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}},inputValue:{get:function(){return this.$store.getters.getValue(this.$props.name)},set:function(t){this.$store.dispatch("update",{value:t,name:this.$props.name})}},inputFormattedValue:{get:function(){var t=this.$store.getters.getValue(this.$props.name),e=h(t,"YYYY-MM-DD");return e.isValid()?e.format("DD/MM/YYYY"):""},set:function(t){if(o(t)||p(t)||t.match(/^[0-9]{2}[/][0-9]{2}[/][0-9]{4}$/)){var e=h(t,"DD/MM/YYYY");this.$store.dispatch("update",{value:e.isValid()?e.format("YYYY-MM-DD"):"",name:this.$props.name})}}}},mounted:function(){this.$nextTick((function(){var t={format:"d/m/Y",formatDate:"d/m/Y",timepicker:!1,scrollInput:!1,autoClose:!0,onChangeDateTime:function(t,e){this.inputFormattedValue=this.$refs.input.value}.bind(this)};window.$j?window.$j(this.$refs.input).datetimepicker(t):window.$(this.$refs.input).datetimepicker(t)}))},watch:{suggestedValue:function(t,e){this.useSuggestedValue&&(this.inputValue=t)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),E=y({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.inputGroupClass},[t.prepend?n("div",{staticClass:"input-block__prepend",attrs:{id:t.id+"__prepend"}},[n("span",{domProps:{innerHTML:t._s(t.prepend)}})]):t._e(),t._v(" "),n("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.inputValue}}),t._v(" "),n("flat-pickr",t._b({ref:"input",class:[t.inputClass,t.prepend?"input--has-prepend":"",t.append?"input--has-append":""],attrs:{id:t.id,config:t.config},on:{"on-open":t.onFocusDatePicker},model:{value:t.inputFormattedValue,callback:function(e){t.inputFormattedValue=e},expression:"inputFormattedValue"}},"flat-pickr",this.$attrs,!1)),t._v(" "),t.append?n("div",{staticClass:"input-block__append",attrs:{id:t.id+"__append"}},[n("span",{domProps:{innerHTML:t._s(t.append)}})]):t._e(),t._v(" "),t.displayValidationError?n("span",{staticClass:"input-block__error-feedback",attrs:{id:t.id+"__error_message"}},[t._v("\n    "+t._s(t.inputError)+"\n  ")]):t._e(),t._v(" "),t.displayValidationWarning?n("span",{staticClass:"input-block__warning-feedback",attrs:{id:t.id+"__warning_message"}},[t._v("\n    "+t._s(t.inputWarning)+"\n  ")]):t._e()],1)},staticRenderFns:[]},void 0,{data:function(){return{config:{dateFormat:"d/m/Y H:i",allowInput:!0,enableTime:!0,time_24hr:!0}}},components:{flatPickr:u},inheritAttrs:!1,props:{append:{type:String},name:{type:String,require:!0},id:{type:String,require:!0},prepend:{type:String},suggest_value:{type:String,require:!1,default:"false"}},computed:{displayValidationError:function(){return this.inputTouched&&this.inputError},displayValidationWarning:function(){return this.inputTouched&&!this.inputError&&this.inputWarning},suggestValue:function(){return"true"===this.$props.suggest_value},useSuggestedValue:function(){return this.suggestValue&&!this.inputTouched},suggestedValue:function(){return this.$store.getters.getSuggestedValues(this.$props.name)},inputClass:function(){return{"input-block__field":!0,"input-block__field--invalid":this.displayValidationError,datetimepicker:!0}},inputError:function(){return this.inputTouched?this.$store.getters.getError(this.$props.name):null},inputWarning:function(){return this.inputTouched?this.$store.getters.getWarning(this.$props.name):null},inputGroupClass:function(){return{"input-block":!0}},inputTouched:{get:function(){return this.$store.getters.getTouched(this.$props.name)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}},inputValue:{get:function(){return this.$store.getters.getValue(this.$props.name)},set:function(t){this.$store.dispatch("update",{value:t,name:this.$props.name})}},inputFormattedValue:{get:function(){var t=this.$store.getters.getValue(this.$props.name),e=null==t?"":new Date(t);return i(e)?g(m(e,"UTC"),"dd/MM/yyyy HH:mm",{timeZone:"UTC"}):""},set:function(t){if(o(t)||p(t)||t.match(/^[0-9]{2}[/][0-9]{2}[/][0-9]{4} [0-9]{2}:[0-9]{2}$/)){var e=s(t,"dd/MM/yyyy HH:mm",new Date),n=i(e)?a(_(e,"UTC")):"";this.$store.dispatch("update",{value:n,name:this.$props.name})}}}},watch:{suggestedValue:function(t,e){this.useSuggestedValue&&(this.inputValue=t)}},methods:{onFocusDatePicker:function(){this.inputTouched=!0}}},void 0,!1,void 0,!1,void 0,void 0,void 0),C=y({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.inputGroupClass},[t.prepend?n("div",{staticClass:"input-block__prepend",attrs:{id:t.id+"__prepend"}},[n("span",{domProps:{innerHTML:t._s(t.prepend)}})]):t._e(),t._v(" "),n("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.inputValue}}),t._v(" "),"checkbox"===this.$attrs.type?n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputFormattedValue,expression:"inputFormattedValue"}],ref:"input",class:[t.inputClass,t.prepend?"input--has-prepend":"",t.append?"input--has-append":""],attrs:{id:t.id,type:"checkbox"},domProps:{checked:Array.isArray(t.inputFormattedValue)?t._i(t.inputFormattedValue,null)>-1:t.inputFormattedValue},on:{focus:function(e){t.inputTouched=!0},change:function(e){var n=t.inputFormattedValue,i=e.target,r=!!i.checked;if(Array.isArray(n)){var s=t._i(n,null);i.checked?s<0&&(t.inputFormattedValue=n.concat([null])):s>-1&&(t.inputFormattedValue=n.slice(0,s).concat(n.slice(s+1)))}else t.inputFormattedValue=r}}},"input",this.$attrs,!1)):"radio"===this.$attrs.type?n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputFormattedValue,expression:"inputFormattedValue"}],ref:"input",class:[t.inputClass,t.prepend?"input--has-prepend":"",t.append?"input--has-append":""],attrs:{id:t.id,type:"radio"},domProps:{checked:t._q(t.inputFormattedValue,null)},on:{focus:function(e){t.inputTouched=!0},change:function(e){t.inputFormattedValue=null}}},"input",this.$attrs,!1)):n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputFormattedValue,expression:"inputFormattedValue"}],ref:"input",class:[t.inputClass,t.prepend?"input--has-prepend":"",t.append?"input--has-append":""],attrs:{id:t.id,type:this.$attrs.type},domProps:{value:t.inputFormattedValue},on:{focus:function(e){t.inputTouched=!0},input:function(e){e.target.composing||(t.inputFormattedValue=e.target.value)}}},"input",this.$attrs,!1)),t._v(" "),t.append?n("div",{staticClass:"input-block__append",attrs:{id:t.id+"__append"}},[n("span",{domProps:{innerHTML:t._s(t.append)}})]):t._e(),t._v(" "),t.displayValidationError?n("span",{staticClass:"input-block__error-feedback",attrs:{id:t.id+"__error_message"}},[t._v(" "+t._s(t.inputError)+"  ")]):t._e(),t._v(" "),t.displayValidationWarning?n("span",{staticClass:"input-block__warning-feedback",attrs:{id:t.id+"__warning_message"}},[t._v(" "+t._s(t.inputWarning)+"  ")]):t._e()])},staticRenderFns:[]},void 0,{inheritAttrs:!1,props:{append:{type:String},name:{type:String,require:!0},id:{type:String,require:!0},prepend:{type:String},suggest_value:{type:String,require:!1,default:"false"}},computed:{displayValidationError:function(){return this.inputTouched&&this.inputError},displayValidationWarning:function(){return this.inputTouched&&!this.inputError&&this.inputWarning},suggestValue:function(){return"true"===this.$props.suggest_value},useSuggestedValue:function(){return this.suggestValue&&!this.inputTouched},suggestedValue:function(){return this.$store.getters.getSuggestedValues(this.$props.name)},inputClass:function(){return{"input-block__field":!0,"input-block__field--invalid":this.inputTouched&&this.inputError,datetimepicker:!0}},inputError:function(){return this.inputTouched?this.$store.getters.getError(this.$props.name):null},inputWarning:function(){return this.inputTouched?this.$store.getters.getWarning(this.$props.name):null},inputGroupClass:function(){return{"input-block":!0}},inputTouched:{get:function(){return this.$store.getters.getTouched(this.$props.name)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}},inputValue:{get:function(){return this.$store.getters.getValue(this.$props.name)},set:function(t){this.$store.dispatch("update",{value:t,name:this.$props.name})}},inputFormattedValue:{get:function(){var t=this.$store.getters.getValue(this.$props.name),e=h(t,"YYYY-MM-DD HH:mm");return e.isValid()?e.format("DD/MM/YYYY HH:mm"):""},set:function(t){if(o(t)||p(t)||t.match(/^[0-9]{2}[/][0-9]{2}[/][0-9]{4} [0-9]{2}:[0-9]{2}$/)){var e=h(t,"DD/MM/YYYY HH:mm");this.$store.dispatch("update",{value:e.isValid()?e.format("YYYY-MM-DD HH:mm"):"",name:this.$props.name})}}}},mounted:function(){this.$nextTick((function(){var t={format:"d/m/Y H:i",formatTime:"H:i",formatDate:"d/m/Y",step:15,scrollInput:!1,onChangeDateTime:function(t,e){this.inputFormattedValue=this.$refs.input.value}.bind(this),autoClose:!0};window.$(this.$refs.input).datetimepicker(t)}))},watch:{suggestedValue:function(t,e){this.useSuggestedValue&&(this.inputValue=t)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),w=y({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.inputGroupClass},[t.prepend?n("div",{staticClass:"input-block__prepend",attrs:{id:t.id+"__prepend"}},[n("span",{domProps:{innerHTML:t._s(t.prepend)}})]):t._e(),t._v(" "),"checkbox"===this.$attrs.type?n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],class:[t.inputClass,t.prepend?"input--has-prepend":"",t.append?"input--has-append":""],attrs:{id:t.id,name:t.name,type:"checkbox"},domProps:{checked:Array.isArray(t.inputValue)?t._i(t.inputValue,null)>-1:t.inputValue},on:{focus:function(e){t.inputTouched=!0},change:function(e){var n=t.inputValue,i=e.target,r=!!i.checked;if(Array.isArray(n)){var s=t._i(n,null);i.checked?s<0&&(t.inputValue=n.concat([null])):s>-1&&(t.inputValue=n.slice(0,s).concat(n.slice(s+1)))}else t.inputValue=r}}},"input",this.$attrs,!1)):"radio"===this.$attrs.type?n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],class:[t.inputClass,t.prepend?"input--has-prepend":"",t.append?"input--has-append":""],attrs:{id:t.id,name:t.name,type:"radio"},domProps:{checked:t._q(t.inputValue,null)},on:{focus:function(e){t.inputTouched=!0},change:function(e){t.inputValue=null}}},"input",this.$attrs,!1)):n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],class:[t.inputClass,t.prepend?"input--has-prepend":"",t.append?"input--has-append":""],attrs:{id:t.id,name:t.name,type:this.$attrs.type},domProps:{value:t.inputValue},on:{focus:function(e){t.inputTouched=!0},input:function(e){e.target.composing||(t.inputValue=e.target.value)}}},"input",this.$attrs,!1)),t._v(" "),t.append?n("div",{staticClass:"input-block__append",attrs:{id:t.id+"__append"}},[n("span",{domProps:{innerHTML:t._s(t.append)}})]):t._e(),t._v(" "),t.displayValidationError?n("span",{staticClass:"input-block__error-feedback",attrs:{id:t.id+"__error_message"}},[t._v(" "+t._s(t.inputError)+"  ")]):t._e(),t._v(" "),t.displayValidationWarning?n("span",{staticClass:"input-block__warning-feedback",attrs:{id:t.id+"__warning_message"}},[t._v(" "+t._s(t.inputWarning)+"  ")]):t._e()])},staticRenderFns:[]},void 0,{inheritAttrs:!1,props:{append:{type:String},name:{type:String,require:!0},id:{type:String,require:!0},prepend:{type:String},suggest_value:{type:String,require:!1,default:"false"}},computed:{displayValidationError:function(){return this.inputTouched&&this.inputError},displayValidationWarning:function(){return this.inputTouched&&!this.inputError&&this.inputWarning},suggestValue:function(){return"true"===this.$props.suggest_value},useSuggestedValue:function(){return this.suggestValue&&!this.inputTouched},suggestedValue:function(){return this.$store.getters.getSuggestedValues(this.$props.name)},inputClass:function(){return{"input-block__field":!0,"input-block__field--invalid":this.inputTouched&&this.inputError}},inputError:function(){return this.inputTouched?this.$store.getters.getError(this.$props.name):null},inputWarning:function(){return this.inputTouched?this.$store.getters.getWarning(this.$props.name):null},inputGroupClass:function(){return{"input-block":!0}},inputTouched:{get:function(){return this.$store.getters.getTouched(this.$props.name)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}},inputValue:{get:function(){return this.$store.getters.getValue(this.$props.name)},set:function(t){this.$store.dispatch("update",{value:t,name:this.$props.name})}}},watch:{suggestedValue:function(t,e){this.useSuggestedValue&&(this.inputValue=t)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),F=y({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("form",{attrs:{"accept-charset":t.$props.acceptCharset,action:t.$props.action,"data-values":t.$props.dataValues,method:t.$props.method,enctype:t.$props.enctype},on:{submit:t.handleSubmit,"ajax:beforeSend":t.ajaxBeforeSend}},[t._t("default")],2)},staticRenderFns:[]},void 0,{props:{acceptCharset:{type:String,required:!0,default:"UTF-8"},action:{type:String,required:!0},enctype:{type:String},method:{type:String,required:!0,default:"post"}},methods:{handleSubmit:function(t){this.$store.getters.getMeta("disableValidation")||(this.$store.commit("setTouched",{value:!0,name:this.$store.getters.getMeta("modelName")+"._submit"}),this.$store.getters.getError(this.$store.getters.getMeta("modelName")+"._is_valid")||t.preventDefault())},ajaxBeforeSend:function(t){this.$store.getters.getError(this.$store.getters.getMeta("modelName")+"._is_valid")||t.preventDefault()}}},void 0,!1,void 0,!1,void 0,void 0,void 0),W=y({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return"checkbox"===this.$attrs.type?n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],attrs:{id:t.id,name:t.name,type:"checkbox"},domProps:{checked:Array.isArray(t.inputValue)?t._i(t.inputValue,null)>-1:t.inputValue},on:{change:function(e){var n=t.inputValue,i=e.target,r=!!i.checked;if(Array.isArray(n)){var s=t._i(n,null);i.checked?s<0&&(t.inputValue=n.concat([null])):s>-1&&(t.inputValue=n.slice(0,s).concat(n.slice(s+1)))}else t.inputValue=r}}},"input",this.$attrs,!1)):"radio"===this.$attrs.type?n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],attrs:{id:t.id,name:t.name,type:"radio"},domProps:{checked:t._q(t.inputValue,null)},on:{change:function(e){t.inputValue=null}}},"input",this.$attrs,!1)):n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],attrs:{id:t.id,name:t.name,type:this.$attrs.type},domProps:{value:t.inputValue},on:{input:function(e){e.target.composing||(t.inputValue=e.target.value)}}},"input",this.$attrs,!1))},staticRenderFns:[]},void 0,{inheritAttrs:!1,props:{append:{type:String},name:{type:String,require:!0},id:{type:String,require:!0},prepend:{type:String}},computed:{inputValue:{get:function(){return this.$store.getters.getValue(this.$props.name)},set:function(t){this.$store.dispatch("update",{value:t,name:this.$props.name})}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),M=y({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.inputGroupClass},[n("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.inputValue}}),t._v(" "),n("Monaco",t._b({ref:"editor",class:t.inputClass,attrs:{id:t.id,language:"ruby",options:t.options},on:{focus:function(e){t.inputTouched=!0},editorDidMount:t.onEditorDidMount},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}},"Monaco",this.$attrs,!1)),t._v(" "),t.displayValidationError?n("span",{staticClass:"input-block__error-feedback",attrs:{id:t.id+"__error_message"}},[t._v(" "+t._s(t.inputError)+"  ")]):t._e(),t._v(" "),t.displayValidationWarning?n("span",{staticClass:"input-block__warning-feedback",attrs:{id:t.id+"__warning_message"}},[t._v(" "+t._s(t.inputWarning)+"  ")]):t._e()],1)},staticRenderFns:[]},void 0,{inheritAttrs:!1,props:{id:{type:String,require:!0},name:{type:String,require:!0},readonly:{type:Boolean,require:!1,default:!1},suggest_value:{type:String,require:!1,default:"false"}},components:{Monaco:v},computed:{displayValidationError:function(){return this.inputTouched&&this.inputError},displayValidationWarning:function(){return this.inputTouched&&!this.inputError&&this.inputWarning},suggestValue:function(){return"true"===this.$props.suggest_value},useSuggestedValue:function(){return this.suggestValue&&!this.inputTouched},suggestedValue:function(){return this.$store.getters.getSuggestedValues(this.$props.name)},inputClass:function(){return{"input-block__field":!0,"input-block__field--invalid":this.inputTouched&&this.inputError,editor:!0}},inputError:function(){return this.inputTouched?this.$store.getters.getError(this.$props.name):null},inputWarning:function(){return this.inputTouched?this.$store.getters.getWarning(this.$props.name):null},inputGroupClass:function(){return{"input-block":!0}},inputTouched:{get:function(){return this.$store.getters.getTouched(this.$props.name)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}},inputValue:{get:function(){return this.$store.getters.getValue(this.$props.name)},set:function(t){this.$store.dispatch("update",{value:t,name:this.$props.name}),this.inputTouched=!0}},options:function(){return{readOnly:this.$props.readonly,lineNumbers:"on",minimap:{enabled:!1}}}},methods:{onEditorDidMount:function(t){var e=5,n=setInterval((function(){t.layout(),0===--e&&clearInterval(n)}),100)}},watch:{suggestedValue:function(t,e){this.useSuggestedValue&&(this.inputValue=t)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),P=y({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.inputGroupClass},[t.prepend?n("div",{staticClass:"input-block__prepend",attrs:{id:t.id+"__prepend"}},[n("span",{domProps:{innerHTML:t._s(t.prepend)}})]):t._e(),t._v(" "),n("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.inputValue}}),t._v(" "),n("vue-editor",t._b({class:[t.inputClass,t.prepend?"input&#45;&#45;has-prepend":"",t.append?"input&#45;&#45;has-append":""],attrs:{id:t.id,"editor-toolbar":t.inputCustomToolBar.customToolbar,name:t.name},on:{focus:function(e){t.inputTouched=!0}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}},"vue-editor",this.$attrs,!1)),t._v(" "),t.append?n("div",{staticClass:"input-block__append",attrs:{id:t.id+"__append"}},[n("span",{domProps:{innerHTML:t._s(t.append)}})]):t._e(),t._v(" "),t.displayValidationError?n("span",{staticClass:"input-block__error-feedback",attrs:{id:t.id+"__error_message"}},[t._v(" "+t._s(t.inputError)+"  ")]):t._e(),t._v(" "),t.displayValidationWarning?n("span",{staticClass:"input-block__warning-feedback",attrs:{id:t.id+"__warning_message"}},[t._v(" "+t._s(t.inputWarning)+"  ")]):t._e()],1)},staticRenderFns:[]},void 0,{components:{VueEditor:f},inheritAttrs:!1,props:{append:{type:String},id:{type:String,require:!0},name:{type:String,require:!0},prepend:{type:String},suggest_value:{type:String,require:!1,default:"false"}},computed:{displayValidationError:function(){return this.inputTouched&&this.inputError},displayValidationWarning:function(){return this.inputTouched&&!this.inputError&&this.inputWarning},suggestValue:function(){return"true"===this.$props.suggest_value},useSuggestedValue:function(){return this.suggestValue&&!this.inputTouched},suggestedValue:function(){return this.$store.getters.getSuggestedValues(this.$props.name)},inputClass:function(){return{"input-block__field":!0,"input-block__field--invalid":this.inputTouched&&this.inputError}},inputCustomToolBar:function(){return{customToolbar:[["bold","italic","underline"],[{header:[1,2,3,4,5,6,!1]}]]}},inputError:function(){return this.inputTouched?this.$store.getters.getError(this.$props.name):null},inputWarning:function(){return this.inputTouched?this.$store.getters.getWarning(this.$props.name):null},inputGroupClass:function(){return{"input-block":!0}},inputTouched:{get:function(){return this.$store.getters.getTouched(this.$props.name)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}},inputValue:{get:function(){return this.$store.getters.getValue(this.$props.name)},set:function(t){this.$store.dispatch("update",{value:t,name:this.$props.name})}}},watch:{suggestedValue:function(t,e){this.useSuggestedValue&&(this.inputValue=t)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),x=y({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.inputGroupClass},[t.readonly?n("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.inputValue}}):t._e(),t._v(" "),t.prepend?n("div",{staticClass:"input-block__prepend",attrs:{id:t.id+"__prepend"}},[n("span",{domProps:{innerHTML:t._s(t.prepend)}})]):t._e(),t._v(" "),n("select",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],class:[t.inputClass,t.prepend?"input--has-prepend":"",t.append?"input--has-append":""],attrs:{id:t.id,name:t.name},on:{focus:function(e){t.inputTouched=!0},change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.inputValue=e.target.multiple?n:n[0]}}},"select",this.$attrs,!1),[t.includeBlank?n("option",{attrs:{value:""}}):t._e(),t._v(" "),t._l(t.choicesToJson,(function(e,i){return n("option",{key:i,domProps:{value:e.id}},[t._v("\n      "+t._s(e.display_name)+"\n    ")])}))],2),t._v(" "),t.append?n("div",{staticClass:"input-block__append",attrs:{id:t.id+"__append"}},[n("span",{domProps:{innerHTML:t._s(t.append)}})]):t._e(),t._v(" "),t.displayValidationError?n("span",{staticClass:"input-block__error-feedback",attrs:{id:t.id+"__error_message"}},[t._v(" "+t._s(t.inputError)+"  ")]):t._e(),t._v(" "),t.displayValidationWarning?n("span",{staticClass:"input-block__warning-feedback",attrs:{id:t.id+"__warning_message"}},[t._v(" "+t._s(t.inputWarning)+"  ")]):t._e()])},staticRenderFns:[]},void 0,{inheritAttrs:!1,props:{append:{type:String},name:{type:String,require:!0},id:{type:String,require:!0},prepend:{type:String},choices:{type:String,require:!0},include_blank:{type:String,require:!0},readonly:{type:Boolean,require:!1,default:!1},suggest_value:{type:String,require:!1,default:"false"}},computed:{choicesToJson:function(){return this.$store.getters.getPotentialValues(this.$props.name)||JSON.parse(this.$props.choices)},displayValidationError:function(){return this.inputTouched&&this.inputError},displayValidationWarning:function(){return this.inputTouched&&!this.inputError&&this.inputWarning},suggestValue:function(){return"true"===this.$props.suggest_value},useSuggestedValue:function(){return this.suggestValue&&!this.inputTouched},suggestedValue:function(){return this.$store.getters.getSuggestedValues(this.$props.name)},includeBlank:function(){return"true"===this.$props.include_blank},inputClass:function(){return{"custom-select":!0,"input-block__field--invalid":this.inputTouched&&this.inputError}},inputError:function(){return this.inputTouched?this.$store.getters.getError(this.$props.name):null},inputWarning:function(){return this.inputTouched?this.$store.getters.getWarning(this.$props.name):null},inputGroupClass:function(){return{"input-block":!0}},inputTouched:{get:function(){return this.$store.getters.getTouched(this.$props.name)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}},inputValue:{get:function(){return this.$store.getters.getValue(this.$props.name)},set:function(t){this.$store.dispatch("update",{value:t,name:this.$props.name})}}},watch:{suggestedValue:function(t,e){this.useSuggestedValue&&(this.inputValue=t)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),q=y({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-validation"},[n("input",t._b({attrs:{disabled:t.disabled},on:{click:t.submitting}},"input",this.$attrs,!1)),t._v(" "),t.displayValidationWarning?n("div",{staticClass:"form-validation__global-error",on:{click:function(e){t.displayValidationMessages=!t.displayValidationMessages}}},[t._v("!")]):t._e(),t._v(" "),t.displayValidationWarning&t.displayValidationMessages?n("ul",{staticClass:"form-validation__tooltip"},t._l(t.recapErrors,(function(e){return n("li",{key:e},[t._v(t._s(e))])})),0):t._e()])},staticRenderFns:[]},void 0,{inheritAttrs:!1,props:{},computed:{displayValidationWarning:function(){return this.inputTouched&&!this.$store.getters.getMeta("hideValidationErrors")&&!this.$store.getters.getError(this.$store.getters.getMeta("modelName")+"._is_valid")},inputTouched:{get:function(){return this.$store.getters.getTouched("modelName")},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}},recapErrors:function(){var t=this.$store.getters.getError(this.$store.getters.getMeta("modelName"));return delete t._is_valid,Object.values(t)}},data:function(){return{disabled:!1,displayValidationMessages:!1}},methods:{submitting:function(){var t=this;this.$store.getters.getError(this.$store.getters.getMeta("modelName")+"._is_valid")&&setTimeout((function(){return t.disabled=!0}))}}},void 0,!1,void 0,!1,void 0,void 0,void 0),D=y({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.inputGroupClass},[t.prepend?n("div",{staticClass:"input-block__prepend",attrs:{id:t.id+"__prepend"}},[n("span",{domProps:{innerHTML:t._s(t.prepend)}})]):t._e(),t._v(" "),n("textarea",t._b({directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],class:[t.inputClass,t.prepend?"input--has-prepend":"",t.append?"input--has-append":""],attrs:{id:t.id,name:t.name},domProps:{value:t.inputValue},on:{focus:function(e){t.inputTouched=!0},input:function(e){e.target.composing||(t.inputValue=e.target.value)}}},"textarea",this.$attrs,!1)),t._v(" "),t.append?n("div",{staticClass:"input-block__append",attrs:{id:t.id+"__append"}},[n("span",{domProps:{innerHTML:t._s(t.append)}})]):t._e(),t._v(" "),t.displayValidationError?n("span",{staticClass:"input-block__error-feedback",attrs:{id:t.id+"__error_message"}},[t._v(" "+t._s(t.inputError)+"  ")]):t._e(),t._v(" "),t.displayValidationWarning?n("span",{staticClass:"input-block__warning-feedback",attrs:{id:t.id+"__warning_message"}},[t._v(" "+t._s(t.inputWarning)+"  ")]):t._e()])},staticRenderFns:[]},void 0,{inheritAttrs:!1,props:{append:{type:String},id:{type:String,require:!0},name:{type:String,require:!0},prepend:{type:String},suggest_value:{type:String,require:!1,default:"false"}},computed:{displayValidationError:function(){return this.inputTouched&&this.inputError},displayValidationWarning:function(){return this.inputTouched&&!this.inputError&&this.inputWarning},suggestValue:function(){return"true"===this.$props.suggest_value},useSuggestedValue:function(){return this.suggestValue&&!this.inputTouched},suggestedValue:function(){return this.$store.getters.getSuggestedValues(this.$props.name)},inputClass:function(){return{"input-block__field":!0,"input-block__field--invalid":this.inputTouched&&this.inputError}},inputError:function(){return this.inputTouched?this.$store.getters.getError(this.$props.name):null},inputWarning:function(){return this.inputTouched?this.$store.getters.getWarning(this.$props.name):null},inputGroupClass:function(){return{"input-block":!0}},inputTouched:{get:function(){return this.$store.getters.getTouched(this.$props.name)},set:function(t){this.$store.commit("setTouched",{value:t,name:this.$props.name})}},inputValue:{get:function(){return this.$store.getters.getValue(this.$props.name)},set:function(t){this.$store.dispatch("update",{value:t,name:this.$props.name})}}},watch:{suggestedValue:function(t,e){this.useSuggestedValue&&(this.inputValue=t)}}},void 0,!1,void 0,!1,void 0,void 0,void 0);function A(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&-1===e.indexOf(i)&&(n[i]=t[i]);return n}var Y=function(t){var i,r,s,a,u,o,p=t.additionalComponents;void 0===p&&(p={});var h=t.authenticityToken,g=t.element,m=t.globalAuthenticityToken,_=t.httpMethod;void 0===_&&(_="POST");var v=t.plugins;void 0===v&&(v=[]);var f=t.validationUrl,y=t.values;void 0===y&&(y={});var Y=t.initialTouch;void 0===Y&&(Y=!1);var H=t.disableValidation;void 0===H&&(H=!1);var N=t.hideValidationErrors;void 0===N&&(N=!1);var R=A(t,["additionalComponents","authenticityToken","element","globalAuthenticityToken","httpMethod","plugins","validationUrl","values","initialTouch","disableValidation","hideValidationErrors"]);V.use($),window.toto="TOTO";var O={"k-autocomplete":k,"k-check_box":b,"k-date-old":S,"k-date":T,"k-datetime-old":C,"k-datetime":E,"k-input":w,"k-form":F,"k-hidden":W,"k-select":x,"k-monaco_editor":M,"k-quill_editor":P,"k-textarea":D,"k-submit":q},G=Object.keys(y)[0],L=y[G],j=L.errors,B=L.warnings,U=L.suggested_values,J=L.potential_values,I=A(L,["errors","warnings","suggested_values","potential_values"]),z={values:(i={},i[G]=I||{},i),errors:(r={},r[G]=j||{},r),warnings:(s={},s[G]=B||{},s),touched:(a={},a[G]={_submit:Y},a),potentialValues:(u={},u[G]=J||{},u),suggestedValues:(o={},o[G]=U||{},o),meta:Object.assign({modelName:G,authenticityToken:h,globalAuthenticityToken:m,validationUrl:f,httpMethod:_,disableValidation:H,hideValidationErrors:N},R)};this.store=new $.Store({state:z,plugins:v,getters:{getValue:function(t){return function(n){var i=e.dotify(n);return d(i.split("."),t.values)}},getError:function(t){return function(n){var i=e.dotify(n);return t.meta.hideValidationErrors?null:d(i.split("."),t.errors)}},getWarning:function(t){return function(n){var i=e.dotify(n);return t.meta.hideValidationErrors?null:d(i.split("."),t.warnings)}},getTouched:function(t){return function(n){var i=e.dotify(n);return d(i.split("."),t.touched)||d([G,"_submit"],t.touched)}},getMeta:function(t){return function(n){var i=e.dotify(n);return d(i.split("."),t.meta)}},getPotentialValues:function(t){return function(n){var i=e.dotify(n);return d(i.split("."),t.potentialValues)}},getSuggestedValues:function(t){return function(n){var i=e.dotify(n);return d(i.split("."),t.suggestedValues)}}},mutations:{setValue:function(t,n){var i=e.dotify(n.name);t.values=l(i.split("."),n.value,t.values)},setTouched:function(t,n){var i=e.dotify(n.name);t.touched=l(i.split("."),n.value,t.touched)},setError:function(t,n){var i=e.dotify(n.name);t.errors=l(i.split("."),n.value,t.errors)},setWarning:function(t,n){var i=e.dotify(n.name);t.warnings=l(i.split("."),n.value,t.warnings)},setPotentialValues:function(t,n){var i=e.dotify(n.name);t.potentialValues=l(i.split("."),n.value,t.potentialValues)},setSuggestedValues:function(t,n){var i=e.dotify(n.name);t.suggestedValues=l(i.split("."),n.value,t.suggestedValues)}},actions:{genericSendDataToServer:function(t,e){var i=e.sid,r=e.url,s=e.method,a=e.data,u=e.onSuccess,o=e.onError,p=A(e,["sid","url","method","data","onSuccess","onError"]);n.sendRequest({url:r,method:s||"post",data:a,onSuccess:u||function(e){var n=Object.assign(p,{sid:i,response:e});t.dispatch("genericDataReceivedFromServer",n)},onError:o||function(t){console.log("There was a problem with validating the data"),console.log(t),console.log(JSON.stringify(t,null,2))},delay:!0})},genericDataReceivedFromServer:function(t,e){},sendValuesToServer:function(t){if(H)console.log("Back-end validation is disabled");else{var e=Object.assign({utf8:"✓",authenticity_token:t.state.meta.authenticityToken,_method:t.state.meta.httpMethod},c(t.state.values));e[G]._prevent_save=!0,n.sendRequest({url:t.state.meta.validationUrl,data:e,method:t.state.meta.httpMethod,onSuccess:function(e){t.dispatch("dataReceivedFromServer",e.data)},onError:function(t){console.log("There was a problem with validating the data"),console.log(t),console.log(JSON.stringify(t,null,2))},delay:!0})}},dataReceivedFromServer:function(t,e){var n=e[G],i=n.errors,r=n.warnings,s=n.potential_values,a=n.suggested_values;i&&t.commit("setError",{value:i,name:G}),r&&t.commit("setWarning",{value:r,name:G}),s&&t.commit("setPotentialValues",{value:s,name:G}),a&&t.commit("setSuggestedValues",{value:a,name:G})},update:function(t,e){t.commit("setValue",e),t.dispatch("sendValuesToServer")}}}),this.app=new V({el:g,store:this.store,inheritAttrs:!1,components:Object.assign(O,p),props:{}})},H=Object.freeze({__proto__:null,Autocomplete:k,CheckBox:b,Date:T,DateOld:S,Datetime:E,DatetimeOld:C,Field:w,Form:F,Hidden:W,MonacoEditor:M,QuillEditor:P,Select:x,Submit:q,Textarea:D,FormStore:Y});var N={install:function t(e){t.installed||(t.installed=!0,Object.keys(H).forEach((function(t){e.component(t,H[t])})))}},R=null;"undefined"!=typeof window?R=window.Vue:"undefined"!=typeof global&&(R=global.Vue),R&&R.use(N);export default N;export{k as Autocomplete,b as CheckBox,T as Date,S as DateOld,E as Datetime,C as DatetimeOld,w as Field,F as Form,Y as FormStore,W as Hidden,M as MonacoEditor,P as QuillEditor,x as Select,q as Submit,D as Textarea};
